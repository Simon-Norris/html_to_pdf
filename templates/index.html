<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Download PDF</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <!-- <h1 class="text-center">Random HTML Content</h1>
    <div class="container">
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Age</th>
                        <th scope="col">Email</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div> -->
    <div class="container">
        <div class="col-md-12 viewFull customPadding nep" id="print-section">
            <form [formGroup]="sharePLedge">
              <div class="mt-2">
                <div class="text-center fuck">
                  अनुसूची – १८ <br />
                  (विनियम २५ संग सम्बधित) <br />
                  खाता रोक्का/फुकुवा फारमको नमुना
                </div>
                <br />
                श्री
                <span
                  >ग्लोबल बैंक</span
                >
                <div class="float-right">
                  मिति :
                  <span
                    >२०२१-०३-२२</span
                  >
                </div>
                <div class="text-center mt-4">
                  विषय: खाता रोक्का/फुकुवा गर्ने बारे ।
                </div>
                <br /><br />
                महोदय,<br />
                मेरो/ हाम्रो
                <span
                  >श्रवण तान्दुकार</span
                >
                को नाममा रहेको खाता रोक्का/फुकुवा गरी दिन आवश्यक शुल्क संलग्न गरी यो
                निवेदन पेश गरेको छु/ छौ ।<br /><br />
                <div class="row mt-4">
                  <div class="col-7"></div>
                  <div class="col" style="line-height: 1.7">
                    भवदीय दस्तखत : ...........................................<br />
                    नाम/थर :
                    <span
                      >श्रवण तान्दुकार</span
                    >
                    <br />
                    ठेगाना :
                    <span
                      >१२३५६</span
                    ><br />
                    टेलिफोन :
                    <span
                      >३९५७३९२०४७०२३</span
                    ><br />
                    इमेल :
                    <span
                      >shrawoon@gmail.com</span
                    ><br />
                    बाबु/संचालक को नाम/थर :
                    <span
                      >हरि राम तान्दुकार</span
                    ><br />
                    बाजेको नाम/थर :
                    <span
                      >कृष्ण प्रसाद तान्दुकार</span
                    ><br />
                    पतिको नाम/थर :
                    <span
                      >उपलब्ध छैन</span
                    ><br />
                    नागरिकता नं :
                    <span
                      >७५६७५६७५</span
                    ><br />
                    जारी मिति र स्थान :
                    <span
                      >ललितपुर</span
                    ><br />
                    हितग्राही परिचय नम्बर :
                    <span
                      >९८३७३</span
                    >
                  </div>
                </div>
              </div>
              <br />
              <br />
            </form>
          </div>
          
    </div>
    <button id="downloadButton" type="button" class="m-btn">
      Download PDF
    </button>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Function to generate random data
      const generateRandomData = () => {
        const data = [];
        for (let i = 1; i <= 10; i++) {
          data.push({
            id: i,
            name: `Name ${i}`,
            age: Math.floor(Math.random() * 50) + 20,
            email: `email${i}@example.com`,
          });
        }
        return data;
      };

      // Function to render table with random data
      const renderTable = () => {
        const tableBody = document.getElementById("tableBody");
        const randomData = generateRandomData();
        tableBody.innerHTML = "";
        randomData.forEach((item) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td>${item.id}</td>
                    <td>${item.name}</td>
                    <td>${item.age}</td>
                    <td>${item.email}</td>
                `;
          tableBody.appendChild(row);
        });
      };

      // Define the downloadPDF function
      const downloadPDF = () => {
        fetch("http://localhost:3000/path-resolver", {
          method: "GET",
        })
          .then((res) => {
            if (!res.ok) {
              throw new Error("Network response was not ok");
            }
            return res.blob();
          })
          .then((blob) => {
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "RandomContent.pdf";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
          })
          .catch((error) => {
            console.error("There was an error downloading the PDF:", error);
            alert("Failed to download PDF. Please try again later.");
          });
      };

      // Call renderTable function when the page loads
      window.addEventListener("load", renderTable);

      // Add event listener to the download button
      document
        .getElementById("downloadButton")
        .addEventListener("click", downloadPDF);
    </script>
  </body>
</html>
